<!-- front-matter
id: src
title: src()
hide_title: true
sidebar_label: src()
-->

# src()

Создает поток для чтения объектов [Vinyl][vinyl-concepts] из файловой системы.

**Примечание:** Спецификации BOM (метки порядка байтов) не имеют смысла в UTF-8 и будут удалены из файлов UTF-8, читаемых `src()`, если они не отключены с помощью опции `removeBOM`.

## Применение

```javascript
const { src, dest } = require('gulp');

function copy() {
  return src('input/*.js')
    .pipe(dest('output/'));
}

exports.copy = copy;
```

## Подпись

```js
src(globs, [options])
```

### Параметры

| параметр | тип | примечание |
|:--------------:|:------:|-------|
| globs | string<br />array | [Globs][globs-concepts] для просмотра файловой системы. |
| options | object | Подробно в [Опциях][options-section] ниже. |

### Возвращается

Поток, который можно использовать в начале или в середине конвейера для добавления файлов на основе заданных глобов.

### Ошибки

Когда аргумент `globs` может соответствовать только одному файлу (например, `foo/bar.js`) и совпадений не найдено, выдает ошибку с сообщением «Файл не найден с единичным глобом». Чтобы подавить эту ошибку, установите для опции `allowEmpty` значение `true`.

Когда в `globs` задан недопустимый глоб, выдает ошибку с сообщением «Недопустимый аргумент глоба».

### Опции

**Для параметров, которые принимают функцию, переданная функция будет вызываться с каждым объектом Vinyl и должна возвращать значение другого перечисленного типа.**

| наименование | тип | по умолчанию | примечание |
|:--------:|:------:|------------|--------|
| buffer | boolean<br />function | true | Если установлено значение `true`, содержимое файла буферизуется в памяти. Если `false`, свойство объекта Vinyl `contents` будет приостановленным потоком. Буферизация содержимого больших файлов может оказаться невозможной.<br />**Примечание:** Плагины могут не поддерживать потоковую передачу содержимого. |
| read | boolean<br />function | true | Если `false`, файлы не будут прочитаны, а их объекты Vinyl не будут доступны для записи на диск через `.dest()`. |
| since | date<br />timestamp<br />function | | Если установлено, создает объекты Vinyl только для файлов, измененных с указанного времени. |
| removeBOM | boolean<br />function | true | Если задано значение `true`, удаляет спецификацию из файлов в кодировке UTF-8. Если `false`, игнорирует спецификацию. |
| sourcemaps | boolean<br />function | false | Если `true`, включает поддержку [sourcemaps][sourcemaps-section] для созданных объектов Vinyl. Загружает встроенные карты источников и разрешает ссылки на внешние карты источников. |
| resolveSymlinks | boolean<br />function | true | Если установлено значение `true`, рекурсивно разрешает символические ссылки на их цели. Если `false`, символические ссылки сохраняются, а для свойства `symlink` объекта Vinyl устанавливается путь к исходному файлу. |
| cwd | string | `process.cwd()` | Каталог, который будет объединен с любым относительным путем, чтобы сформировать абсолютный путь. Игнорируется для абсолютных путей. Используйте, чтобы избежать объединения `globs` c `path.join()`.<br />_Эта опция передается непосредственно [glob-stream][glob-stream-external]._ |
| base | string | | Явно установите свойство `base` для созданных объектов Vinyl. Подробно в [Концепции API][glob-base-concepts].<br />_Эта опция передается непосредственно в [glob-stream][glob-stream-external]._ |
| cwdbase | boolean | false | Если `true`, параметры `cwd` и `base` должны быть выровнены..<br />_Эта опция передается непосредственно в [glob-stream][glob-stream-external]._ |
| root | string | | Корневой путь, по которому разрешаются `globs`.<br />_Эта опция передается непосредственно в [glob-stream][glob-stream-external]._ |
| allowEmpty | boolean | false | Если установлено значение `false`, `globs`, который может соответствовать только одному файлу (например, `foo/bar.js`) вызывает ошибку, если они не находят совпадения. Если `true`, подавляет сбои glob.<br />_Эта опция передается непосредственно в [glob-stream][glob-stream-external]._ |
| uniqueBy | string<br />function | `'path'` | Удалите дубликаты из потока, сравнив имя свойства строки или результат функции.<br />**Примечание:** При использовании функции функция получает передаваемые данные (объекты, содержащие свойства `cwd`, `base`, `path`). |
| dot | boolean | false | Если `true`, сравнивайте глобы с точечными файлами, такими как `.gitignore`.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| silent | boolean | true | When `true`, подавляет печать предупреждений на `stderr`.<br />**Примечание:** Эта опция передается непосредственно в [node-glob][node-glob-external] but defaulted to ``true`` instead of `false`. |
| mark | boolean | false | Если `true`, к совпадениям каталогов будет добавлен символ `/`. Обычно не требуется, поскольку пути в конвейере нормализованы..<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| nosort | boolean | false | Если `true`, отключает сортировку результатов glob.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| stat | boolean | false | Если `true`, для всех результатов вызывается `fs.stat()`. Это добавляет дополнительные накладные расходы и, как правило, не должно использоваться.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| strict | boolean | false | Если `true`, будет выдана ошибка, если возникнет неожиданная проблема при попытке чтения каталога.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| nounique | boolean | false | Когда `false`, предотвращает дублирование файлов в результирующем наборе.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| debug | boolean | false | Если `true`, отладочная информация будет записана в командную строку.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| nobrace | boolean | false | Если `true`, избегает раскрытия наборов фигурных скобок - например: `{a,b}` или `{1..3}`.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| noglobstar | boolean | false | Если `true`, рассматривает символ шара с двумя звездами как символ шара с одной звездой.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| noext | boolean | false | Если `true`, исключает сопоставление шаблонов [extglob][extglob-docs] - например, `+(ab)`.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| nocase | boolean | false | Если `true`, выполняет поиск без учета регистра.<br />**Примечание:** В файловых системах без учета регистра немагические шаблоны будут совпадать по умолчанию.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| matchBase | boolean | false | Если `true` и globs не содержат символов `/`, просматривает все каталоги и сопоставляет этот глоб - например, `*.js` будет рассматриваться как эквивалент `**/*.js`.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| nodir | boolean | false | Если `true`, соответствует только файлам, а не каталогам.<br />**Примечание:** Чтобы соответствовать только каталогам, завершите глоб символом `/`.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| ignore | string<br />array | | Globs , которые нужно исключить из совпадений. Эта опция комбинируется с инвертированными `globs`.<br />**Примечание:** Эти глобы всегда сопоставляются с точечными файлами, независимо от любых других настроек.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| follow | boolean | false | Если `true`, каталоги, связанные с символьными ссылками, будут перемещаться при раскрытии globs `**`.<br />**Примечание:** Это может вызвать проблемы с циклическими ссылками.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| realpath | boolean | false | Если `true`, для всех результатов вызывается `fs.realpath()`. Это может привести к зависанию ссылок.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| cache | object | | Ранее созданный объект кеша - позволяет избежать некоторых вызовов файловой системы.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| statCache | object | | Ранее созданный кеш результатов `fs.Stat` - позволяет избежать некоторых вызовов файловой системы.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| symlinks | object | | Ранее созданный кеш символьных ссылок - позволяет избежать некоторых вызовов файловой системы.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |
| nocomment | boolean | false | Когда `false`, трактует символ `#` в начале глоба, как комментарий.<br />_Эта опция передается непосредственно в [node-glob][node-glob-external]._ |

## Исходные карты

Поддержка Sourcemap встроена непосредственно в `src()` и `dest()`, но по умолчанию отключена. Включите его для создания встроенных или внешних исходных карт.

Встроенные исходные карты:

```js
const { src, dest } = require('gulp');
const uglify = require('gulp-uglify');

src('input/**/*.js', { sourcemaps: true })
  .pipe(uglify())
  .pipe(dest('output/', { sourcemaps: true }));
```

Внешние исходные карты:

```js
const { src, dest } = require('gulp');
const uglify = require('gulp-uglify');

src('input/**/*.js', { sourcemaps: true })
  .pipe(uglify())
  .pipe(dest('output/', { sourcemaps: '.' }));
```

[sourcemaps-section]: #sourcemaps
[options-section]: #options
[vinyl-concepts]: ../api/concepts.md#vinyl
[glob-base-concepts]: ../api/concepts.md#glob-base
[globs-concepts]: ../api/concepts.md#globs
[extglob-docs]: ../documentation-missing.md
[node-glob-external]: https://github.com/isaacs/node-glob
[glob-stream-external]: https://github.com/gulpjs/glob-stream
